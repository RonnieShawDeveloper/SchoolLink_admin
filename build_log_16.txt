2025-08-24T03:35:15.312Z [INFO]: # Build environment configured with Standard build compute type: 8GiB Memory, 4vCPUs, 128GB Disk Space
2025-08-24T03:35:15.770Z [INFO]: # Cloning repository: git@github.com:RonnieShawDeveloper/SchoolLink_admin.git
2025-08-24T03:35:16.339Z [INFO]: 
2025-08-24T03:35:16.340Z [INFO]: Cloning into 'SchoolLink_admin'...
2025-08-24T03:35:16.340Z [INFO]: # Checking for Git submodules at: /codebuild/output/src1135824440/src/SchoolLink_admin/.gitmodules
2025-08-24T03:35:16.351Z [INFO]: # Retrieving environment cache...
2025-08-24T03:35:16.422Z [INFO]: # Retrieved environment cache
2025-08-24T03:35:16.422Z [INFO]: ---- Setting Up SSM Secrets ----
2025-08-24T03:35:16.422Z [INFO]: SSM params {"Path":"/amplify/d2wwjdgjliumng/main/","WithDecryption":true}
2025-08-24T03:35:19.852Z [INFO]: # Node version 20 is available for installation
2025-08-24T03:35:19.964Z [INFO]: # Installing Node version 20
2025-08-24T03:36:29.798Z [INFO]: # Now using Node version 20
2025-08-24T03:36:29.920Z [INFO]: # Retrieving cache...
2025-08-24T03:36:32.829Z [INFO]: # Extracting cache...
2025-08-24T03:36:34.881Z [INFO]: # Extraction completed
2025-08-24T03:36:34.993Z [INFO]: # Retrieved cache
2025-08-24T03:36:38.385Z [INFO]: ## Processing Environment Variables
                                 # Set Environment Variable: APP_ID
2025-08-24T03:36:38.391Z [INFO]: ## Starting Backend Build
                                 ## Checking for associated backend environment...
                                 ## No backend environment association found, continuing...
                                 ## Completed Backend Build
                                 {"backendDuration": 0}
2025-08-24T03:36:38.392Z [INFO]: ## Starting Frontend Build
2025-08-24T03:36:38.393Z [INFO]: # Starting phase: preBuild
                                 # Executing command: echo "Writing fixed amplify/backend.ts"
                                 Writing fixed amplify/backend.ts
                                 # Executing command: cat > amplify/backend.ts << 'EOF'
                                 import { defineBackend, defineFunction } from '@aws-amplify/backend';
                                 import * as lambda from 'aws-cdk-lib/aws-lambda';
                                 const studentSearchFn = defineFunction({
                                 name: 'studentSearch',
                                 runtime: 20,
                                 entry: './functions/studentSearch/index.ts',
                                 environment: {
                                 DB_HOST: process.env.DB_HOST || '',
                                 DB_PORT: process.env.DB_PORT || '3306',
                                 DB_USER: process.env.DB_USER || '',
                                 DB_PASSWORD: process.env.DB_PASSWORD || '',
                                 DB_NAME: process.env.DB_NAME || '',
                                 DB_SSL: process.env.DB_SSL || 'true',
                                 DB_CHARSET: process.env.DB_CHARSET || 'utf8mb4',
                                 },
                                 });
                                 export const backend = defineBackend({
                                 studentSearchFn,
                                 });
                                 backend.studentSearchFn.resources.lambda.addFunctionUrl({
                                 authType: lambda.FunctionUrlAuthType.NONE,
                                 cors: {
                                 allowedOrigins: ['*'],
                                 allowedMethods: [lambda.HttpMethod.GET, lambda.HttpMethod.POST, lambda.HttpMethod.OPTIONS],
                                 allowedHeaders: ['*'],
                                 },
                                 });
                                 EOF
2025-08-24T03:36:38.399Z [INFO]: # Executing command: npm ci
2025-08-24T03:36:41.841Z [WARNING]: npm warn ERESOLVE overriding peer dependency
2025-08-24T03:36:41.846Z [WARNING]: npm warn While resolving: @aws-amplify/plugin-types@1.10.1
                                    npm warn Found: @aws-sdk/types@3.821.0
                                    npm warn node_modules/@aws-amplify/data-construct/node_modules/@aws-amplify/ai-constructs/node_modules/@aws-amplify/plugin-types/node_modules/@aws-sdk/types
                                    npm warn
                                    npm warn Could not resolve dependency:
                                    npm warn peer @aws-sdk/types@"^3.734.0" from @aws-amplify/plugin-types@1.10.1
                                    npm warn node_modules/@aws-amplify/data-construct/node_modules/@aws-amplify/ai-constructs/node_modules/@aws-amplify/plugin-types
                                    npm warn   @aws-amplify/plugin-types@"^1.10.1" from @aws-amplify/ai-constructs@1.5.3
                                    npm warn   node_modules/@aws-amplify/data-construct/node_modules/@aws-amplify/ai-constructs
2025-08-24T03:36:42.007Z [WARNING]: npm warn ERESOLVE overriding peer dependency
2025-08-24T03:36:42.008Z [WARNING]: npm warn While resolving: @aws-amplify/plugin-types@1.10.1
                                    npm warn Found: @aws-sdk/types@3.821.0
                                    npm warn node_modules/@aws-amplify/graphql-api-construct/node_modules/@aws-amplify/ai-constructs/node_modules/@aws-amplify/plugin-types/node_modules/@aws-sdk/types
                                    npm warn
                                    npm warn Could not resolve dependency:
                                    npm warn peer @aws-sdk/types@"^3.734.0" from @aws-amplify/plugin-types@1.10.1
                                    npm warn node_modules/@aws-amplify/graphql-api-construct/node_modules/@aws-amplify/ai-constructs/node_modules/@aws-amplify/plugin-types
                                    npm warn   @aws-amplify/plugin-types@"^1.10.1" from @aws-amplify/ai-constructs@1.5.3
                                    npm warn   node_modules/@aws-amplify/graphql-api-construct/node_modules/@aws-amplify/ai-constructs
2025-08-24T03:38:10.551Z [WARNING]: npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-08-24T03:38:10.635Z [WARNING]: npm warn deprecated @babel/plugin-proposal-class-properties@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-class-properties instead.
2025-08-24T03:38:10.724Z [WARNING]: npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2025-08-24T03:38:10.847Z [WARNING]: npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-08-24T03:38:12.901Z [WARNING]: npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
2025-08-24T03:38:14.048Z [WARNING]: npm warn deprecated @babel/plugin-proposal-object-rest-spread@7.20.7: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-object-rest-spread instead.
2025-08-24T03:38:33.049Z [WARNING]: npm warn deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.
2025-08-24T03:38:36.012Z [INFO]: added 2059 packages, and audited 2937 packages in 2m
2025-08-24T03:38:36.013Z [INFO]: 233 packages are looking for funding
                                 run `npm fund` for details
2025-08-24T03:38:36.015Z [INFO]: found 0 vulnerabilities
2025-08-24T03:38:36.052Z [INFO]: # Executing command: npx ampx -v
2025-08-24T03:38:43.161Z [INFO]: 1.8.0
2025-08-24T03:38:43.186Z [INFO]: # Executing command: npx ampx pipeline-deploy --app-id $APP_ID --branch $AWS_BRANCH
2025-08-24T03:38:46.755Z [INFO]: 3:38:46 AM Synthesizing backend...
2025-08-24T03:38:46.762Z [INFO]: 
2025-08-24T03:38:49.249Z [WARNING]: Bundling asset amplify-d2wwjdgjliumng-main-branch-9c7fa56116/AmplifyBranchLinker/CustomResourceLambda/Code/Stage...
2025-08-24T03:38:49.648Z [WARNING]: ...949daec25735339c08f729cbfb6728b7626e33c97a0849-building/index.js  991.4kb
                                    ⚡ Done in 79ms
2025-08-24T03:38:49.766Z [WARNING]: [WARNING] aws-cdk-lib.aws_lambda.FunctionOptions#logRetention is deprecated.
                                    use `logGroup` instead
                                    This API will be removed in the next major release.
2025-08-24T03:38:49.767Z [WARNING]: [WARNING] aws-cdk-lib.aws_lambda.FunctionOptions#logRetention is deprecated.
                                    use `logGroup` instead
                                    This API will be removed in the next major release.
2025-08-24T03:38:49.769Z [WARNING]: Bundling asset amplify-d2wwjdgjliumng-main-branch-9c7fa56116/function/studentSearch-lambda/Code/Stage...
2025-08-24T03:38:50.391Z [INFO]: 3:38:50 AM ✔ Backend synthesized in 3.64 seconds
2025-08-24T03:38:50.397Z [INFO]: 3:38:50 AM Running type checks...
2025-08-24T03:39:02.753Z [INFO]: 3:39:02 AM ✔ Type checks completed in 12.36 seconds
2025-08-24T03:39:02.762Z [INFO]: 3:39:02 AM Building and publishing assets...
2025-08-24T03:39:02.762Z [INFO]: 
2025-08-24T03:39:03.219Z [INFO]: 
2025-08-24T03:39:03.220Z [INFO]: [BootstrapNotDetectedError] This AWS account and region has not been bootstrapped.
                                 ∟ Caused by: [ToolkitError] Has the environment been bootstrapped
                                 Resolution: Run `cdk bootstrap aws://{YOUR_ACCOUNT_ID}/{YOUR_REGION}` locally to resolve this.
2025-08-24T03:39:03.220Z [WARNING]: ampx pipeline-deploy
                                    Command to deploy backends in a custom CI/CD pipeline. This command is not inten
                                    ded to be used locally.
                                    Options:
                                    --debug            Print debug logs to the console
                                    [boolean] [default: false]
                                    --branch           Name of the git branch being deployed
                                    [string] [required]
                                    --app-id           The app id of the target Amplify app[string] [required]
                                    --outputs-out-dir  A path to directory where amplify_outputs is written. I
                                    f not provided defaults to current process working dire
                                    ctory.                                         [string]
                                    --outputs-version  Version of the configuration. Version 0 represents clas
                                    sic amplify-cli config file amplify-configuration and 1
                                    represents newer config file amplify_outputs
                                    [string] [choices: "0", "1", "1.1", "1.2", "1.3", "1.4"] [default: "1.4"]
                                    --outputs-format   amplify_outputs file format
                                    [string] [choices: "mjs", "json", "json-mobile", "ts", "dart"]
                                    -h, --help             Show help                                     [boolean]
2025-08-24T03:39:03.289Z [ERROR]: !!! Build failed
2025-08-24T03:39:03.289Z [ERROR]: !!! Error: Command failed with exit code 1
2025-08-24T03:39:03.289Z [INFO]: # Starting environment caching...
2025-08-24T03:39:03.290Z [INFO]: # Uploading environment cache artifact...
2025-08-24T03:39:03.366Z [INFO]: # Uploaded environment cache artifact
2025-08-24T03:39:03.367Z [INFO]: # Environment caching completed

